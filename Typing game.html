<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üî• Typing Speed Game</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      color: #fff;
      text-align: center;
      padding: 30px;
      transition: 0.3s;
    }
    h1 { font-size: 2.5em; margin-bottom: 10px; }
    #quote {
      font-size: 20px; 
      margin: 20px auto; 
      max-width: 600px;
      background: rgba(0,0,0,0.2);
      padding: 15px;
      border-radius: 12px;
    }
    textarea {
      width: 80%; height: 120px;
      font-size: 18px; padding: 10px;
      border: none; border-radius: 12px;
      outline: none; margin-top: 15px;
      transition: 0.3s;
    }
    button {
      padding: 10px 20px;
      border: none; border-radius: 25px;
      font-size: 18px; cursor: pointer;
      margin: 5px;
      transition: 0.3s;
    }
    .start-btn { background: #ff9800; color: #fff; }
    .start-btn:hover { background: #ff5722; }
    .stop-btn { background: #f44336; color: #fff; }
    .stop-btn:hover { background: #d32f2f; }
    .reset-btn { background: #2196f3; color: #fff; }
    .reset-btn:hover { background: #1976d2; }
    .result {
      margin-top: 20px; font-size: 20px;
      font-weight: bold;
    }
    .stats {
      display: flex; justify-content: center;
      gap: 20px; margin-top: 15px;
    }
    .card {
      background: rgba(0,0,0,0.2);
      padding: 15px; border-radius: 12px;
      width: 150px;
      font-size: 18px;
    }
    .dark-mode {
      background: #121212;
      color: #fff;
    }
  </style>
</head>
<body>
  <h1>üî• Typing Speed Challenge</h1>
  <p id="quote">Click "Start Game" to begin!</p>
  
  <textarea id="input" disabled placeholder="Start typing here..."></textarea><br><br>
  
  <button class="start-btn" onclick="startGame()">Start Game</button>
  <button class="stop-btn" onclick="stopGame()" disabled>Stop Game</button>
  <button class="reset-btn" onclick="resetGame()">Reset</button>
  <button onclick="toggleTheme()">üåô Toggle Theme</button>

  <div class="stats">
    <div class="card">‚è± Time: <span id="time">0</span>s</div>
    <div class="card">‚ö° WPM: <span id="wpm">0</span></div>
    <div class="card">‚úÖ Accuracy: <span id="accuracy">0</span>%</div>
  </div>

  <div class="result" id="result"></div>

  <script>
    const sentences = [
      "The quick brown fox jumps over the lazy dog.",
      "Typing fast requires practice and patience.",
      "JavaScript makes websites interactive and fun.",
      "Artificial Intelligence is shaping the future.",
      "Consistency is the key to mastering skills."
    ];

    let startTime, currentSentence, timer, timerRunning = false;

    function startGame() {
      currentSentence = sentences[Math.floor(Math.random() * sentences.length)];
      document.getElementById("quote").textContent = currentSentence;
      document.getElementById("input").value = "";
      document.getElementById("input").disabled = false;
      document.getElementById("input").focus();
      document.getElementById("result").textContent = "";
      
      startTime = new Date().getTime();
      timerRunning = true;

      clearInterval(timer);
      timer = setInterval(updateStats, 100);

      document.querySelector(".stop-btn").disabled = false;
      document.querySelector(".start-btn").disabled = true;
    }

    function stopGame() {
      if (timerRunning) {
        timerRunning = false;
        clearInterval(timer);
        let typed = document.getElementById("input").value;
        calculateResults(typed);
        document.getElementById("input").disabled = true;
        document.getElementById("result").textContent = "‚èπ Game Stopped. Check your stats!";
      }
      document.querySelector(".stop-btn").disabled = true;
      document.querySelector(".start-btn").disabled = false;
    }

    function resetGame() {
      timerRunning = false;
      clearInterval(timer);
      document.getElementById("quote").textContent = "Click 'Start Game' to begin!";
      document.getElementById("input").value = "";
      document.getElementById("input").disabled = true;
      document.getElementById("time").textContent = "0";
      document.getElementById("wpm").textContent = "0";
      document.getElementById("accuracy").textContent = "0";
      document.getElementById("result").textContent = "";
      document.querySelector(".stop-btn").disabled = true;
      document.querySelector(".start-btn").disabled = false;
    }

    function updateStats() {
      if (!timerRunning) return;
      let typed = document.getElementById("input").value;
      calculateResults(typed);
      if (typed === currentSentence) {
        timerRunning = false;
        clearInterval(timer);
        document.getElementById("result").textContent = "üéâ Completed! Well done!";
        document.getElementById("input").disabled = true;
        document.querySelector(".stop-btn").disabled = true;
        document.querySelector(".start-btn").disabled = false;
      }
    }

    function calculateResults(typed) {
      let now = new Date().getTime();
      let timeTaken = (now - startTime) / 1000;
      let words = typed.trim().split(/\s+/).filter(Boolean).length;
      let wpm = Math.round((words / timeTaken) * 60);
      let correctChars = 0;
      for (let i = 0; i < typed.length; i++) {
        if (typed[i] === currentSentence[i]) correctChars++;
      }
      let accuracy = Math.round((correctChars / currentSentence.length) * 100);

      document.getElementById("time").textContent = timeTaken.toFixed(1);
      document.getElementById("wpm").textContent = isNaN(wpm) ? 0 : wpm;
      document.getElementById("accuracy").textContent = isNaN(accuracy) ? 0 : accuracy;
    }

    function toggleTheme() {
      document.body.classList.toggle("dark-mode");
    }

    document.getElementById("input").addEventListener("input", updateStats);
  </script>
</body>
</html>
